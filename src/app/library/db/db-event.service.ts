import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';

interface Events {
  List: Function;
  Detail: Function;
  Images: Function;
}

@Injectable({
  providedIn: 'root'
})
export class DbEventService {
  public Event: { [key: string]: Events } = {};

  constructor(public http: HttpClient) {
    this.register('bilibili', {
      List: async () => {
        const res = { "code": 0, "msg": "", "data": [{ "id": "5647710", "comic_id": 28649, "title": "在无神的世界进行信仰传播", "status": 2, "last_ord": 19, "ord_count": 42, "hcover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "scover": "http://i0.hdslb.com/bfs/manga-static/c9172ba47feb8a25f86501b85e3a046412ed9d71.jpg", "vcover": "http://i0.hdslb.com/bfs/manga-static/f7087237522dd879f1248b4a3a4764edbf548a2c.jpg", "publish_time": "2020.10.28", "last_ep_publish_time": "2023-07-12 12:01:44", "last_ep_id": 654648, "last_ep_short_title": "19", "latest_ep_short_title": "41", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 1225430, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-07-29 01:58:25" }, { "id": "5632586", "comic_id": 30304, "title": "OVERLORD  不死者之王", "status": 2, "last_ord": 1, "ord_count": 73, "hcover": "https://i0.hdslb.com/bfs/manga-static/e32dd717f9803a2bd7f6a0ea14100b073944def9.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/4ad258879804f513818a4f47606b5c3643726795.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/5b38adfd4595060df9ac5a727c70f606c21134ae.jpg", "publish_time": "", "last_ep_publish_time": "2022-12-07 17:49:07", "last_ep_id": 603335, "last_ep_short_title": "1", "latest_ep_short_title": "66", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 1017033, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-07-18 13:22:49" }, { "id": "5632585", "comic_id": 32020, "title": "别当哥哥了！", "status": 2, "last_ord": 5, "ord_count": 86, "hcover": "https://i0.hdslb.com/bfs/manga-static/910165b7369b4d2b00e02ea56b4c7df4ce683480.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/e889fcbeb1e5d7f8c756b06867a41c520f9f9578.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/f9ac6034d2fda54ada8e335be5018745acd8bfa7.jpg", "publish_time": "", "last_ep_publish_time": "2023-07-27 12:02:12", "last_ep_id": 806141, "last_ep_short_title": "5", "latest_ep_short_title": "77", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 1237860, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-06-28 02:06:47" }, { "id": "5629879", "comic_id": 32569, "title": "赡养上帝", "status": 3, "last_ord": 2, "ord_count": 8, "hcover": "https://i0.hdslb.com/bfs/manga-static/59bbecb8f2b4eb3968a8f45880d1345a1c9cf281.png", "scover": "https://i0.hdslb.com/bfs/manga-static/c47b635252714ced37f2b670f508bf07c037c787.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/83bf5ff4f5c7a1651307b4b3f507937b92c6695e.jpg", "publish_time": "", "last_ep_publish_time": "2023-01-19 12:00:48", "last_ep_id": 914373, "last_ep_short_title": "第2话", "latest_ep_short_title": "第8话", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 1052449, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-04-28 21:21:39" }, { "id": "5544030", "comic_id": 30977, "title": "前辈，有穿内裤的吗？", "status": 3, "last_ord": 21, "ord_count": 21, "hcover": "https://i0.hdslb.com/bfs/manga-static/fbcd28c2bc04f25adc35b5979f95e06c93085a60.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/a28c673a0eeda14aa109d3bbde1549e16f71a5ed.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/cc4df2498504aa02f9f2434dbd2f21c5257db632.jpg", "publish_time": "", "last_ep_publish_time": "2021-12-03 12:00:00", "last_ep_id": 660658, "last_ep_short_title": "最终话", "latest_ep_short_title": "最终话", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 660658, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-07-26 13:22:17" }, { "id": "5307045", "comic_id": 32346, "title": "再见绘梨", "status": 3, "last_ord": 1, "ord_count": 2, "hcover": "https://i0.hdslb.com/bfs/manga-static/99fe7326e1f0ebfc111d0f4e7e9b3249034160a4.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/7a59cd85ac445a119435f3c5872547c05e88713a.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/bf7f0e7ac746db9ee6afc483b461da9b77842a23.jpg", "publish_time": "2022.08.20", "last_ep_publish_time": "2022-08-20 12:00:04", "last_ep_id": 848387, "last_ep_short_title": "短篇", "latest_ep_short_title": "短篇", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 848387, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-05-02 19:55:28" }, { "id": "5248031", "comic_id": 28376, "title": "Chainsaw Man", "status": 2, "last_ord": 137, "ord_count": 137, "hcover": "https://i0.hdslb.com/bfs/manga-static/223785ec4b2da303349c6785763fdceade11e2bd.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/15b08abcaf216d2816db618dd12a0bd497ce5212.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/fef4e807325510365fb87389a4e2c1695360249a.jpg", "publish_time": "2020.11.02", "last_ep_publish_time": "2023-07-25 23:01:44", "last_ep_id": 1236981, "last_ep_short_title": "S2-40", "latest_ep_short_title": "S2-40", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 1236981, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-07-27 14:18:37" }, { "id": "4820968", "comic_id": 29583, "title": "异世界舅舅", "status": 2, "last_ord": 43, "ord_count": 44, "hcover": "https://i0.hdslb.com/bfs/manga-static/27da00fda5a67a4c5a9a867211a1f342056b6c8c.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/0e0bdb21d9c7d571977bec8503d70f43ee651b82.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/244ca421e08c23fa3bf251b00ddcdbf7768c561d.jpg", "publish_time": "2021.03.26", "last_ep_publish_time": "2022-10-20 00:00:22", "last_ep_id": 949274, "last_ep_short_title": "43", "latest_ep_short_title": "43", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 949274, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-06-05 23:40:22" }, { "id": "4701779", "comic_id": 30005, "title": "别哭啊魔王酱", "status": 3, "last_ord": 3, "ord_count": 49, "hcover": "https://i0.hdslb.com/bfs/manga-static/ea12e2ed9e1fb3a5e57d4049908763e0348866f4.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/a63cb05ca2df22a85311da7d87199998e4a163ba.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/e323433eb1741de59fa2d93e15bb4cb103395fef.jpg", "publish_time": "2021.06.19", "last_ep_publish_time": "2021-07-07 00:00:00", "last_ep_id": 589774, "last_ep_short_title": "3", "latest_ep_short_title": "最终话", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 595077, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-03-31 00:11:53" }, { "id": "4700280", "comic_id": 28386, "title": "更衣人偶坠入爱河", "status": 2, "last_ord": 73, "ord_count": 95, "hcover": "https://i0.hdslb.com/bfs/manga-static/a500c5f458653333675adce459192f1829845061.jpg", "scover": "http://i0.hdslb.com/bfs/manga-static/6eb7fa866c304f96b746a581739bcad122d1e13b.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/7c73f79310ef5d7ed958c4c0ef789edfb839508b.jpg", "publish_time": "2020.11.11", "last_ep_publish_time": "2023-07-21 18:31:23", "last_ep_id": 713370, "last_ep_short_title": "73", "latest_ep_short_title": "94", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 1233613, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-04-28 21:21:59" }, { "id": "4618057", "comic_id": 27250, "title": "我立于百万生命之上", "status": 2, "last_ord": 1, "ord_count": 87, "hcover": "https://i0.hdslb.com/bfs/manga-static/f52d82044ff083e905694e0509bf379838c1c072.jpg", "scover": "http://i0.hdslb.com/bfs/manga-static/4726b1e8137a8e0eabf4cb455c63d024bbbd75cd.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/f10131606349dc4932bc10a068b3adc8d5ba113e.jpg", "publish_time": "", "last_ep_publish_time": "2023-07-07 12:01:46", "last_ep_id": 370869, "last_ep_short_title": "1", "latest_ep_short_title": "85", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 1220730, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-06-04 01:17:10" }, { "id": "4435483", "comic_id": 28520, "title": "新世纪福音战士", "status": 3, "last_ord": 1, "ord_count": 97, "hcover": "http://i0.hdslb.com/bfs/manga-static/8d60a13fdfa830c53f6ce9f773531753e1aa5c82.jpg", "scover": "http://i0.hdslb.com/bfs/manga-static/b76f9af08aa500489a87c449f209e6d97431e1ed.jpg", "vcover": "http://i0.hdslb.com/bfs/manga-static/9351bbb71a9726af47e3abce3ce8f3cecbed5b08.jpg", "publish_time": "2020.10.03", "last_ep_publish_time": "2020-10-03 00:00:00", "last_ep_id": 489790, "last_ep_short_title": "1", "latest_ep_short_title": "EXTRA", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 491726, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-07-27 12:21:29" }, { "id": "4401222", "comic_id": 31332, "title": "蓦然回首", "status": 3, "last_ord": 0.5, "ord_count": 2, "hcover": "https://i0.hdslb.com/bfs/manga-static/ad170a9df8d8c4bf9638e787348c38eb01972f98.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/e5fcb0f3d6f079e2c513a6be5ddd60ea9b447b7a.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/05502ff9b6d4c093281ff2341dc389981e611837.jpg", "publish_time": "2022.02.11", "last_ep_publish_time": "2022-02-11 12:00:00", "last_ep_id": 693972, "last_ep_short_title": "试阅", "latest_ep_short_title": "1", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 693975, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-07-20 13:23:14" }, { "id": "4294977", "comic_id": 31008, "title": "夏目新的结婚", "status": 2, "last_ord": 8, "ord_count": 68, "hcover": "https://i0.hdslb.com/bfs/manga-static/569ee40945c6754bdaedb0673b6def8edd62ebf6.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/2cc7156aa03043bd607dd13d3d9118ce1c1ce78b.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/fc6239acf17dfd012086d21db84ff4410169b348.jpg", "publish_time": "", "last_ep_publish_time": "2022-11-24 17:44:56", "last_ep_id": 662733, "last_ep_short_title": "8", "latest_ep_short_title": "68", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 997577, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-02-21 22:13:07" }, { "id": "4276044", "comic_id": 29481, "title": "鬼刀", "status": 2, "last_ord": 41, "ord_count": 43, "hcover": "https://i0.hdslb.com/bfs/manga-static/eec2bf5e7138667dda2962c66404bb595b4fcb49.jpg", "scover": "https://i0.hdslb.com/bfs/manga-static/3a697954dd5117702112dfdb53a8738a56c85cc9.jpg", "vcover": "https://i0.hdslb.com/bfs/manga-static/916baf8bbaa9a0f8e3c6fa335da0e945703eac97.jpg", "publish_time": "2021.03.05", "last_ep_publish_time": "2023-03-07 11:10:11", "last_ep_id": 1102392, "last_ep_short_title": "41", "latest_ep_short_title": "41", "allow_wait_free": false, "type": 0, "rookie_expire_time": "", "free_type": 0, "latest_ep_id": 1102392, "has_read_latest_ep": false, "updated_count": 0, "is_limit_free": false, "latest_read_time": "2023-04-28 21:16:41" }] }
        const list = res.data.map(x => {
          // const cover=
          const httpUrlToHttps = (str: string) => {
            const url = new URL(str);
            if (url.protocol == "http:") {
              return `https://${url.host}${url.pathname}`
            } else {
              return str
            }
          }
          return { id: x.id, cover: httpUrlToHttps(x.vcover), title: x.title, subTitle: `看到 ${x.last_ep_short_title} 话 / 共 ${x.latest_ep_short_title} 话` }
        });
        return list
      },
      Detail: async () => {
        const res = { "code": 0, "msg": "", "data": { "id": 28649, "title": "在无神的世界进行信仰传播", "comic_type": 1, "page_default": 4, "page_allow": 15, "horizontal_cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "square_cover": "http://i0.hdslb.com/bfs/manga-static/c9172ba47feb8a25f86501b85e3a046412ed9d71.jpg", "vertical_cover": "http://i0.hdslb.com/bfs/manga-static/f7087237522dd879f1248b4a3a4764edbf548a2c.jpg", "author_name": ["朱白苍", "半月板损伤", "HERO'S"], "styles": ["奇幻"], "last_ord": 42, "is_finish": 0, "status": 0, "fav": 1, "read_order": 19, "evaluate": "男主角征人的父亲是一个怪异团体的教祖，他在父亲安排的严酷修行中不幸丧命，竟然转生到了异世界！\n这个没有“神”也没有“宗教”概念的异世界，对征人而言堪称理想世界！\n然而……为了保护在这里一起生活的居民，征人却不得不在这个没有神的异世界建立“宗教”?!", "total": 42, "ep_list": [{ "id": 1225430, "ord": 42, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "41", "is_in_free": false, "title": "异世界是大同人时代的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2023-07-12 12:01:44", "comments": 52, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 137, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 27 }, { "id": 1163020, "ord": 41, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 92080997, "short_title": "40", "is_in_free": false, "title": "要是我的推出现在异世界小黄书中我就去死的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2023-05-09 00:00:46", "comments": 94, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 218, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 33 }, { "id": 1130479, "ord": 40, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 72512405, "short_title": "39", "is_in_free": false, "title": "在异世界想立起败犬之旗却立不起来的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2023-04-06 00:00:24", "comments": 41, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 188, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 33 }, { "id": 1101917, "ord": 39, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 65609914, "short_title": "38", "is_in_free": false, "title": "在即将收拾异教团之际将其收编的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2023-03-07 13:30:55", "comments": 41, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 155, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 31 }, { "id": 1058629, "ord": 38, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 111446469, "short_title": "37", "is_in_free": false, "title": "真诚向异教教主许愿的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2023-01-17 12:13:22", "comments": 88, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 173, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 31 }, { "id": 1014710, "ord": 37, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 75340554, "short_title": "36", "is_in_free": false, "title": "用物理方法降服异教教祖的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-12-07 00:00:55", "comments": 45, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 199, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 33 }, { "id": 958580, "ord": 36, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 87918815, "short_title": "35", "is_in_free": false, "title": "在异世界的爱与演唱会的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-10-25 20:21:14", "comments": 45, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 186, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 33 }, { "id": 926081, "ord": 35, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 139425071, "short_title": "34", "is_in_free": false, "title": "在异世界物以类聚的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-09-26 22:21:03", "comments": 38, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 186, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 31 }, { "id": 926042, "ord": 34, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 138047769, "short_title": "33", "is_in_free": false, "title": "在异世界“真的是……长大了❤”的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-09-26 17:04:46", "comments": 35, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 155, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 31 }, { "id": 836729, "ord": 33, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 117108560, "short_title": "32", "is_in_free": false, "title": "在异世界的秘密家族的故事。", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-07-05 12:19:56", "comments": 46, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 221, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 31 }, { "id": 800432, "ord": 32, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 112619266, "short_title": "31", "is_in_free": false, "title": "在异世界建立快乐家族的故事。", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-05-31 17:17:39", "comments": 39, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 204, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 31 }, { "id": 760117, "ord": 31, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 83502428, "short_title": "30", "is_in_free": false, "title": "在异世界姐姐也想尝试的故事。", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-04-25 12:40:07", "comments": 38, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 215, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 25 }, { "id": 705900, "ord": 30, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 82488260, "short_title": "29", "is_in_free": false, "title": "在异世界开家庭会议的故事。", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-03-14 13:39:37", "comments": 36, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 241, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 21 }, { "id": 695496, "ord": 29, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 58058938, "short_title": "28", "is_in_free": false, "title": "在异世界迎来第二性征的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2022-02-05 00:28:54", "comments": 30, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 241, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 29 }, { "id": 670864, "ord": 28, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 109456409, "short_title": "27", "is_in_free": false, "title": "异教团中姐姐与少年的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-12-22 15:12:04", "comments": 64, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 277, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 29 }, { "id": 663614, "ord": 27, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "26", "is_in_free": false, "title": "异教团与亲人的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-29 12:32:42", "comments": 31, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 247, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 27 }, { "id": 654674, "ord": 26, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 54617047, "short_title": "25-2", "is_in_free": false, "title": "在异世界请你听我的歌的故事【后篇】", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 47, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 273, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 13 }, { "id": 654669, "ord": 25, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 68353415, "short_title": "25-1", "is_in_free": false, "title": "在异世界请你听我的歌的故事【前篇】", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 18, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 204, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 17 }, { "id": 654655, "ord": 24, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 66960948, "short_title": "24", "is_in_free": false, "title": "利用异教之神扩张的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 40, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 231, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 22 }, { "id": 654654, "ord": 23, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 79046984, "short_title": "23", "is_in_free": false, "title": "异教之神所讲述的意义不明的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 12, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 226, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 21 }, { "id": 654653, "ord": 22, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 118182418, "short_title": "22", "is_in_free": false, "title": "无能神在异世界关于生存战略的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 15, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 237, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 31 }, { "id": 654652, "ord": 21, "read": 1, "pay_mode": 1, "is_locked": true, "pay_gold": 79, "size": 98594326, "short_title": "21", "is_in_free": false, "title": "在异世界探寻领袖魅力意义的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 28, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 0, "allow_wait_free": false, "progress": "", "like_count": 247, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 27 }, { "id": 654651, "ord": 20, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "20", "is_in_free": false, "title": "在异世界信徒突破一百万人的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 35, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 256, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 31 }, { "id": 654648, "ord": 19, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 95424931, "short_title": "19", "is_in_free": false, "title": "向异教之神下跪祈求的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 31, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 274, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 25 }, { "id": 654646, "ord": 18, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "18", "is_in_free": false, "title": "在异世界篡夺教主的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-11-11 13:14:19", "comments": 40, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 258, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 24 }, { "id": 593884, "ord": 17, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 107977499, "short_title": "17", "is_in_free": false, "title": "差不多要在异世界使出全力的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-07-16 17:40:00", "comments": 51, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 379, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 26 }, { "id": 593883, "ord": 16, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 111687762, "short_title": "16", "is_in_free": false, "title": "在异教比拼教祖资质的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-07-16 17:40:00", "comments": 26, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 279, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 23 }, { "id": 593881, "ord": 15, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 115515151, "short_title": "15", "is_in_free": false, "title": "异教的教祖也有过去的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-07-16 17:40:00", "comments": 39, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 292, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 25 }, { "id": 593879, "ord": 14, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 153051672, "short_title": "14", "is_in_free": false, "title": "异教也有派别斗争的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-07-16 17:40:00", "comments": 31, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 291, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 35 }, { "id": 593878, "ord": 13, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 159914885, "short_title": "13", "is_in_free": false, "title": "在教团进行性教育的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-07-16 17:40:00", "comments": 21, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 281, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 37 }, { "id": 593877, "ord": 12, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 169656611, "short_title": "12", "is_in_free": false, "title": "合并与收买教团的故事", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2021-07-16 17:40:00", "comments": 52, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 322, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 42 }, { "id": 506483, "ord": 11, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 52970886, "short_title": "11", "is_in_free": false, "title": "“尽管不是异世界但是想要增加神的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 93, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 455, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 29 }, { "id": 506482, "ord": 10, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "10", "is_in_free": false, "title": "“异世界的国家毁灭了的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 56, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 428, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 29 }, { "id": 506478, "ord": 9, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 89506177, "short_title": "9", "is_in_free": false, "title": "“虽然在异世界但其实不是异世界的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 85, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 425, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 47 }, { "id": 506476, "ord": 8, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "8", "is_in_free": false, "title": "“就算是在异世界也果然还是要死的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 47, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 452, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 25 }, { "id": 506475, "ord": 7, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "7", "is_in_free": false, "title": "“在异世界看神的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 44, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 451, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 27 }, { "id": 506474, "ord": 6, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 83446863, "short_title": "6", "is_in_free": false, "title": "“因为是在异世界所以受到管理的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 77, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 475, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 42 }, { "id": 505747, "ord": 5, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "5", "is_in_free": false, "title": "“就算在异世界也还是命悬一线的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 96, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 448, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 36 }, { "id": 505741, "ord": 4, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "4", "is_in_free": false, "title": "“邪宗门要靠地盘的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 69, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 460, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 37 }, { "id": 505706, "ord": 3, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 48576721, "short_title": "3", "is_in_free": false, "title": "“就算在异世界也要聚集信徒的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 74, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 516, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 37 }, { "id": 505704, "ord": 2, "read": 1, "pay_mode": 1, "is_locked": false, "pay_gold": 79, "size": 0, "short_title": "2", "is_in_free": false, "title": "“因为在异世界所以无法被推广的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 102, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 1, "allow_wait_free": false, "progress": "", "like_count": 668, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 37 }, { "id": 505702, "ord": 1, "read": 1, "pay_mode": 0, "is_locked": false, "pay_gold": 0, "size": 0, "short_title": "1", "is_in_free": false, "title": "“因为在异世界所以去买小黄书了的故事”", "cover": "http://i0.hdslb.com/bfs/manga-static/b72a72bfbe6e5f52a6165f4bd3869fb7486deb3d.jpg", "pub_time": "2020-10-28 00:00:00", "comments": 403, "unlock_expire_at": "0000-00-00 00:00:00", "unlock_type": 0, "allow_wait_free": false, "progress": "", "like_count": 1855, "chapter_id": 0, "type": 0, "extra": 0, "image_count": 66 }], "release_time": "2020.10.28", "is_limit": 0, "read_epid": 654648, "last_read_time": "2023-07-29 01:58:25", "is_download": 1, "read_short_title": "19", "styles2": [{ "id": 998, "name": "奇幻" }], "renewal_time": "与日本同步更新 ", "last_short_title": "41", "discount_type": 0, "discount": 0, "discount_end": "0001-01-01 00:00:00", "no_reward": false, "batch_discount_type": 0, "ep_discount_type": 0, "has_fav_activity": false, "fav_free_amount": 0, "allow_wait_free": false, "wait_hour": 0, "wait_free_at": "0000-00-00 00:00:00", "no_danmaku": 0, "auto_pay_status": 1, "no_month_ticket": true, "immersive": false, "no_discount": false, "show_type": 0, "pay_mode": 1, "chapters": [], "classic_lines": "男主角征人的父亲是一个怪异团体的教祖，他在父亲安排的严酷修行中不幸丧命，竟然转生到了异世界！\n这个没有“神”也没有“宗教”概念的异世界，对征人而言堪称理想世界！\n然而……为了保护在这里一起生活的居民，征人却不得不在这个没有神的异世界建立“宗教”?!", "pay_for_new": 0, "fav_comic_info": { "has_fav_activity": false, "fav_free_amount": 0, "fav_coupon_type": 0 }, "serial_status": 0, "series_info": { "id": 0, "comics": [] }, "album_count": 0, "wiki_id": 131224, "disable_coupon_amount": 0, "japan_comic": true, "interact_value": "11621", "temporary_finish_time": "", "video": null, "introduction": "", "comment_status": 1, "no_screenshot": true, "type": 0, "vomic_cvs": [], "no_rank": true, "presale_eps": [], "presale_text": "", "presale_discount": 0, "no_leaderboard": true, "auto_pay_info": { "auto_pay_orders": [{ "id": 2, "title": "漫读券" }, { "id": 3, "title": "通用券" }, { "id": 1, "title": "漫币" }], "id": 29135618 }, "orientation": 1, "story_elems": [{ "id": 662, "name": "中二" }, { "id": 722, "name": "冒险" }, { "id": 690, "name": "种田" }, { "id": 957, "name": "勇者" }, { "id": 734, "name": "装逼" }], "tags": [{ "id": 662, "name": "中二" }, { "id": 722, "name": "冒险" }, { "id": 690, "name": "种田" }, { "id": 957, "name": "勇者" }, { "id": 734, "name": "装逼" }], "is_star_hall": 0, "hall_icon_text": "" } };
        console.log(res);
        const x = res.data;
        const httpUrlToHttps = (str: string) => {
          const url = new URL(str);
          if (url.protocol == "http:") {
            return `https://${url.host}${url.pathname}`
          } else {
            return str
          }
        }
        return {
          id: x.id,
          cover: httpUrlToHttps(x.vertical_cover),
          title: x.title,
          author: x.author_name.toString(),
          intro: x.classic_lines,
          chapters: x.ep_list
        }
      },
      Images: async (id: string) => {
        const res = { "code": 0, "msg": "", "data": { "path": "/bfs/manga/25969/1246997/data.index.124f69ff?token=47ce5b5540ffbb1f12e8e06e3cd00502&ts=64d671c2", "images": [{ "path": "/bfs/manga/dacc176fb9c5e28a2861adf3aab829555443fa8d.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/20d37a8fd94c2b41e40da551a9d8a3e762f96303.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/9a7ca11cc603162f9f9740728299dbacb50175ce.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/000a5f2834dd6bb442bf5fd0ce39cd34e32dceca.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/2c54926cf0dfc7b59b20c18eded18a7309facdb0.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/f70edf40e3f012ab1d62eb02a023afcad76ff3e3.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/a41d3c1b07931a301b4308f6e6b57a1766aa0fc1.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/2b46d5daf01d0967983fb851a14466d50b8610c7.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/ab5cb92f3e10036d4327e404f9649bd06254f05f.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/50ffc8d95d384e5ffb7825381e2c05b62654a707.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/d101b53842ea0e5ed4ca145e74ccca0472d6b97f.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/e84f297e09312edccad540918d77d5c9766a70dd.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/753044e82f9a7ca2075a2d80829eca752447504c.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/14fa83db522ba513e4e618a104cc2f4ff62b9e9c.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/b304f264dab24d7241535fe1375f2be8ad47f716.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/c76e221e9c85bd698c4421999aa55ac1c542f29f.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/350fc81bf2857125f1d09f7694773fd19fb4030c.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/4263a8b9f8d604d8db18760a46ffd31f9bb19693.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/63f914e377eaf8215972f287f8e999a566f066b0.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/8013138edfd960e9d184bbfc3c1760f3672a3bd2.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/12392c998fdf67be5c79db8374f902bd00a6011e.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/e6a8435e2d4ed813ca0f002791299c2e099c659c.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/0d1b10c02a616bbbc3948a83f36bc23a736b3d85.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/3e2355517c0567109c4dcf596089be447368d93f.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/f79339aca6fffa9fdf238797613f0a898c7d19c9.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/a17a7b8efdb841cf0154f39d6616101ddd536118.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/08b6edac97b99a34941d737675a6bd271290c92d.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/b32ee453dd0038bf5117d1beeec707aa7a17ff6f.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/a766ba500392eddd0b1a63dd9b4253fbe877a611.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/2df4b830b20095ddb9c79b24e45446c8071b2488.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/4550e04b1ede55924e40b685e60e1c823b2e2e90.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/704ec9762e22a7807bbd78f7e32d51f724343c38.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/827c4170f4c32b6bf8d875d549be576f30dff19d.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/674faaaf31539db4c97972fe1ad2e1c3c0a9bbd3.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/e999eca508bd9ecfd3b76125fdf0264554e7b73e.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/81b3d4b5aa67983e16ad1d3f12998e0c79c3658c.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/ef1f7f47b3e8450faddd2041979da942f57eb05c.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/e3942497dc905dfec6b623903c74ac3a0f0f585c.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/29312215ebc4e9d9e05ae26f28e70c97e95f893c.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/f2091c019dfd29cbb18cadd21d026f3726066a6e.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/d4acbad878ea7516d6f68ad2557d6b8cc706d66d.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }, { "path": "/bfs/manga/c3a6a0fae952d5cf32091d01d5c85792e68dc257.jpg", "x": 2000, "y": 2858, "video_path": "", "video_size": "0" }], "last_modified": "2023-08-06 12:22:12", "host": "https://manga.hdslb.com", "video": { "svid": "", "filename": "", "route": "", "resource": [], "raw_width": "0", "raw_height": "0", "raw_rotate": "0", "img_urls": [], "bin_url": "", "img_x_len": 10, "img_x_size": 160, "img_y_len": 10, "img_y_size": 90 } } };
        let data = [];
        for (let index = 0; index < res.data.images.length; index++) {
          let x = res.data.images[index];
          let obj = {
            id: "",
            src: "",
            width: 0,
            height: 0
          };
          const getImageUrl = async (id: string) => {
            const res = await fetch("https://manga.bilibili.com/twirp/comic.v1.Comic/ImageToken?device=pc&platform=web", {
              "headers": {
                "accept": "application/json, text/plain, */*",
                "accept-language": "zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6",
                "content-type": "application/json;charset=UTF-8"
              },
              "body": `{\"urls\":\"[\\\"${id}\\\"]\"}`,
              "method": "POST",
            });
            const json = await res.json();
            return `${json.data[0].url}?token=${json.data[0].token}`
          }
          obj["id"] = x.path;
          obj["src"] = "http://localhost:9880/file/L1VzZXJzL3poaWFuZ3plbmcvaUNsb3VkJUU0JUJBJTkxJUU3JTlCJTk4JUVGJUJDJTg4JUU1JUJEJTkyJUU2JUExJUEzJUVGJUJDJTg5L0RvY3VtZW50cy8lRTUlQTQlOUElRTUlQjElODIlRTYlQkMlQUIlRTclOTQlQkIvJUU3JTk0JUI1JUU5JTk0JUFGJUU0JUJBJUJBLSVFNSU4RCVCNy8lRTclQUMlQUMwNyVFNSU4RCVCNy81NC5wbmc="
          obj["width"] = x.x;
          obj["height"] = x.y;
          data.push(obj)
        }
        return data
      }
    })
  }
  register(key: string, events: Events) {
    if (this.Event[key]) this.Event[key] = { ...this.Event[key], ...events };
    else this.Event[key] = events;
  }

}
